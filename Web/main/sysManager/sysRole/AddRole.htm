





<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<title>新增角色</title>
		<script type='text/javascript' src='/TheOneHR/dwr/interface/JSysRole.js'></script>
		<script type='text/javascript' src='/TheOneHR/dwr/engine.js'></script>
		<script type='text/javascript' src='/TheOneHR/dwr/util.js'></script>
		<meta name="author" content="Wk">
		<meta name="robots" content="all">
		<meta name="keywords" content="keyword">
		<meta name="description" content="Wk Java Server Pages">
		<meta http-equiv="keywords" content="keyword">
		<meta http-equiv="description" content="Wk Java Server Pages">
		<meta http-equiv="Content-Type" content="text/html; charset=GBK">
		<meta http-equiv="windows-Target" content="_top">
		<meta http-equiv="pragma" content="no-cache">
		<meta http-equiv="cache-control" content="no-cache">
		<meta http-equiv="expires" content="0">
		<link rel="stylesheet" href="http://localhost:8088/TheOneHR/css/common.css"
			type="text/css" />
	</head>
	<body>
		<div id="man_zone" style="width:101%;">
			<table width="70%" border="0" align="center" cellpadding="3"
				cellspacing="1" class="table_style">
				<thead>
					<tr>
						<td class="left_title_header" colspan="2">
							新增角色
						</td>
					</tr>
				</thead>
				<form name="sysRoleForm" method="post" action="/TheOneHR/sysRole.do" onsubmit="return false;">
					
					<input type="hidden" name="op" value="doAddRole"/>
					<tbody>
						<tr>
							<td width="33%" class="left_title_2" style="text-align: center;">
								<span class="left-title">角色名称</span>
							</td>
							<td width="67%" class="left_title_2" style="text-align: left;">
								<input type="text" name="sysRole.roleName" maxlength="8" value="" class="input_text">
							</td>
						</tr>
						<tr>
							<td class="left_title_2" style="text-align: center;">
								<span class="left-title">角色描述</span>
							</td>
							<td class="left_title_2" style="text-align: left;">
								<input type="text" name="sysRole.roleDesc" maxlength="25" value="" class="input_text">
							</td>
						</tr>
					</tbody>
				<tfoot>
					<tr bgcolor="#FFFFFF">
						<td class="left_title_1" colspan="2" style="text-align: center;">
							<input type="button" value="增加" class="input_button" onclick="formSubmit();"/>
							<input type="reset" value="清除" class="input_button">
							<input type="button" value="返回" class="input_button" onclick="window.history.go(-1);"/>
						</td>
					</tr>
				</tfoot>
				</form>
			</table>
		</div>
	</body>
<script type="text/javascript" src="http://localhost:8088/TheOneHR/js/validate2.js"></script>
<script type="text/javascript">
build_validate("sysRole.roleName","","WkCENString");
function jsCheckForm(){
	if (Validator.Validate(document.forms[0],3)){
		return true;
	}
	return false;
}
function formSubmit(){
	if(jsCheckForm()){
		var oRoleName = document.getElementsByName('sysRole.roleName')[0].value;
		JSysRole.checkName(oRoleName,callback);
	}
	return;
}
function callback(data){
	if(data==false){//说明用户角色名称不存在
		document.forms[0].submit();
		return;
	}
	alert("角色名称已存在");
}
</script>
</html>

